(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},4169:(e,t,s)=>{Promise.resolve().then(s.bind(s,8532))},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7910:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8532:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),r=s(2115),i=s(7910),d=s(6132),n=s(63),c=s(2619),l=s.n(c);let o=["pump.fun","youtube.com","instagram.com","tiktok.com","reddit.com","twitter.com","x.com","facebook.com","linkedin.com","line.me","telegram.org","t.me","discord.com","discord.gg","web.archive.org","archive.org","medium.com"];function m(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)([]),[u,f]=(0,r.useState)(null),[b,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]),(0,r.useEffect)(()=>{t&&j()},[t]);let p=async()=>{try{let t=await fetch("/api/admin/auth");(await t.json()).authenticated?s(!0):e.push("/admin")}catch(t){e.push("/admin")}finally{m(!1)}},j=async()=>{try{let e=await fetch("/api/admin/excluded-domains");if(e.ok){let t=await e.json();h(t.domains||[])}else h(o),f({type:"error",text:"Could not read domains from edge function, showing defaults"})}catch(e){console.error("Error fetching domains:",e),h(o),f({type:"error",text:"Could not read domains from edge function, showing defaults"})}finally{g(!1)}};return c?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0b0d] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white",children:"Loading..."})}):t?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0b0d] p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 text-[#00ff88]"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Domain Exclusions"})]}),(0,a.jsx)(l(),{href:"/admin/prompts",className:"text-[#666] hover:text-white transition-colors",children:"→ AI Prompts"})]}),(0,a.jsx)("div",{className:"bg-[#111214] border border-[#2a2d31] rounded-xl p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-[#00ff88] mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-2",children:"How Domain Exclusions Work"}),(0,a.jsx)("p",{className:"text-[#999] text-sm leading-relaxed",children:"Domains listed below are automatically excluded during website discovery. Tokens with these domains won't be migrated to the main crypto_projects_rated table. This prevents social media links and non-project sites from being analyzed as project websites."}),(0,a.jsx)("p",{className:"text-[#00ff88] text-xs mt-3",children:"✓ This page now reads directly from the edge function code"})]})]})}),u&&(0,a.jsx)("div",{className:"mb-6 p-4 rounded-lg border ".concat("success"===u.type?"bg-green-500/10 border-green-500/30 text-green-500":"error"===u.type?"bg-red-500/10 border-red-500/30 text-red-500":"bg-blue-500/10 border-blue-500/30 text-blue-500"),children:u.text}),(0,a.jsxs)("div",{className:"bg-[#111214] border border-[#2a2d31] rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Excluded Domains (",b?"...":x.length,")"]}),b&&(0,a.jsx)("span",{className:"text-[#666] text-sm",children:"Reading from edge function..."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:!b&&x.map(e=>(0,a.jsx)("div",{className:"px-4 py-3 bg-[#1a1c1f] border border-[#2a2d31] rounded-lg hover:border-[#3a3d41] transition-colors",children:(0,a.jsx)("span",{className:"text-white font-mono text-sm",children:e})},e))}),b&&(0,a.jsx)("div",{className:"text-center py-8 text-[#666]",children:"Loading domains from edge function..."}),!b&&0===x.length&&(0,a.jsx)("div",{className:"text-center py-8 text-[#666]",children:"No excluded domains configured"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-[#111214] border border-[#2a2d31] rounded-xl",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-2",children:"To Make Changes Permanent:"}),(0,a.jsxs)("ol",{className:"text-[#999] text-sm space-y-1 ml-4",children:[(0,a.jsx)("li",{children:"1. Copy the updated domain list from this page"}),(0,a.jsx)("li",{children:"2. Update the TRADING_PLATFORM_DOMAINS array in website-discovery/index.ts"}),(0,a.jsxs)("li",{children:["3. Deploy the updated edge function: ",(0,a.jsx)("code",{className:"text-[#00ff88]",children:"npx supabase functions deploy website-discovery"})]})]})]})]})}):null}}},e=>{e.O(0,[297,441,255,358],()=>e(e.s=4169)),_N_E=e.O()}]);