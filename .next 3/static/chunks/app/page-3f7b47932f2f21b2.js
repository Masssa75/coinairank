(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var a=s(5155),r=s(2115),l=s(7650),n=s(2056),i=s(3327),o=s(5917),c=s(5229),d=s(9715),x=s(318),m=s(4684),p=s(859),u=s(9347);function h(e){let{projectDescription:t,signals:s=[],redFlags:h=[],strongestSignal:g,benchmarkComparison:b,extractionStatus:f,comparisonStatus:v,websiteAnalysis:j,isAdmin:N=!1,tokenId:y,signalFeedback:w,onFeedbackUpdate:_,stage2Resources:k,tooltip:S,technicalAssessment:C,hasLargeHtml:A=!1,needsProperScraping:I=!1,hasNoAnalysis:T=!1,children:E}=e,[M,F]=r.useState(!1),[P,R]=r.useState(!1),[W,O]=r.useState(null),[D,z]=r.useState(null),U=r.useRef(null),L=r.useRef(null),[J,B]=r.useState(!1),[V,q]=r.useState(null),[H,K]=r.useState(w||{}),[X,Y]=r.useState({}),[$,G]=r.useState(!1),[Z,Q]=r.useState({}),[ee,et]=r.useState(!1),[es,ea]=r.useState(!1);if(r.useEffect(()=>{B(!0)},[]),r.useEffect(()=>{K(w||{})},[w]),r.useEffect(()=>{let e=e=>{P&&U.current&&!U.current.contains(e.target)&&L.current&&!L.current.contains(e.target)&&(R(!1),F(!1),O(null))};return P&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[P]),!S&&0===s.length&&0===h.length&&!b&&!j)return(0,a.jsx)(a.Fragment,{children:E});let er=async(e,t)=>{if(t){var s;let a=X[e]||(null==(s=H[e])?void 0:s.note)||"";K({...H,[e]:{...H[e],issue:t,note:a,date:new Date().toISOString().split("T")[0],suggested_adjustment:"too_high"===t?-2:2*("too_low"===t)}})}else{let t={...H};delete t[e],K(t);let s={...X};delete s[e],Y(s);let a={...Z};if(delete a[e],Q(a),y&&_)try{(await fetch("/api/signal-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:y,feedback:t})})).ok&&_(t)}catch(e){console.error("Failed to delete feedback:",e)}}},el=async()=>{if(y&&_)try{(await fetch("/api/signal-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:y,feedback:H})})).ok&&(_(H),Y({}),Q({}),G(!0),setTimeout(()=>G(!1),2e3))}catch(e){console.error("Failed to save feedback:",e)}},en=e=>e>=85?"text-[#10b981]":e>=60?"text-[#eab308]":e>=30?"text-[#f97316]":"text-[#ef4444]";g&&g.score;let ei=(null==S?void 0:S.top_signals)||((null==S?void 0:S.pros)?S.pros.slice(0,3):null)||s.slice(0,3).map(e=>e.signal.substring(0,60)),eo=(null==S?void 0:S.main_concerns)||((null==S?void 0:S.cons)?S.cons.slice(0,2):null)||h.filter(e=>"high"===e.severity).slice(0,2).map(e=>e.flag),ec=(()=>{var e,t,s;let a=(null==j?void 0:j.discovered_links)||(null==j||null==(t=j.parsed_content)||null==(e=t.navigation)?void 0:e.all_links)||(null==j||null==(s=j.parsed_content)?void 0:s.links_with_context)||[],r=(null==j?void 0:j.stage_2_links)||[],l=new Map;r.forEach(e=>{l.set(e.url,e.reasoning)});let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://www.brickken.com";return e.startsWith("http")?e:e.startsWith("/")?t+e:e},i={},o=new Set;return a.forEach(e=>{let t;i[e.type]||(i[e.type]=[]);let s=n(e.url),a=l.has(e.url)||l.has(s);if(a)t=l.get(e.url)||l.get(s),l.has(e.url)&&o.add(e.url),l.has(s)&&o.add(s);else for(let[r,i]of l.entries()){let l=n(r);if(l===s||r===s||l===e.url){a=!0,t=i,o.add(r);break}}i[e.type].push({url:e.url,text:e.text,selected:a,reasoning:t})}),r.forEach(e=>{o.has(e.url)||(i.other||(i.other=[]),i.other.push({url:e.url,text:"AI-selected link",selected:!0,reasoning:e.reasoning}))}),i})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:L,className:"inline-block",onMouseEnter:e=>{let t,s;if(P||!L.current)return;let a=L.current.getBoundingClientRect(),r=window.innerWidth<768,l=r?Math.min(window.innerWidth-20,400):500,n=a.left+a.width/2,i=a.top,o=window.innerHeight-a.bottom;r?o>=200&&o>=i?(t=a.bottom,s="below"):(t=i>=200?a.top:Math.max(60,a.top),s="above"):i>=(r?350:400)||i>o?(t=a.top,s="above"):(t=a.bottom,s="below");let c=l/2;n-c<10?n=c+10:n+c>window.innerWidth-10&&(n=window.innerWidth-c-10),z({x:n,y:t,placement:s}),F(!0)},onMouseLeave:()=>{P||(F(!1),z(null))},onClick:e=>{if(e.stopPropagation(),L.current)if(P)R(!1),F(!1),O(null);else{let e,t,s=L.current.getBoundingClientRect(),a=window.innerWidth<768,r=a?Math.min(window.innerWidth-20,400):500,l=s.left+s.width/2,n=s.top,i=window.innerHeight-s.bottom;a?i>=200&&i>=n?(e=s.bottom,t="below"):(e=n>=200?s.top:Math.max(60,s.top),t="above"):n>=(a?350:400)||n>i?(e=s.top,t="above"):(e=s.bottom,t="below");let o=r/2;l-o<10?l=o+10:l+o>window.innerWidth-10&&(l=window.innerWidth-o-10),z({x:l,y:e,placement:t}),F(!0),R(!0)}},style:{cursor:"pointer"},children:E}),J&&M&&D&&(0,l.createPortal)((0,a.jsx)("div",{ref:U,className:"fixed z-[999999] ".concat(P?"pointer-events-auto":"pointer-events-none"),style:{left:"".concat(D.x,"px"),top:(D.placement,"".concat(D.y,"px")),transform:"above"===D.placement?"translate(-50%, -100%) translateY(-8px)":"translate(-50%, 8px)"},children:(0,a.jsxs)("div",{className:"bg-[#1a1c1f] rounded-lg shadow-2xl border border-[#333] p-3 md:p-4 w-[calc(100vw-20px)] max-w-[500px] min-w-[300px] md:min-w-[400px] max-h-[60vh] md:max-h-[80vh] overflow-y-auto scrollbar-hide",children:[A&&(0,a.jsxs)("div",{className:"text-[#f59e0b] text-sm mb-3 p-2 bg-[#f59e0b]/10 rounded flex items-start gap-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("span",{children:["Website too large (",(null==j?void 0:j.html_length)?Math.round(j.html_length/1e3):">240","K chars) - parsing not yet implemented"]})]}),I&&(0,a.jsxs)("div",{className:"text-[#3b82f6] text-sm mb-3 p-2 bg-[#3b82f6]/10 rounded flex items-start gap-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:"Client-side rendered website - full browser scraping not yet implemented"})]}),T&&!A&&(0,a.jsxs)("div",{className:"text-[#ef4444] text-sm mb-3 p-2 bg-[#ef4444]/10 rounded",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0 inline mr-1"}),"Website analysis pending"]}),!A&&!I&&!T&&(null==j?void 0:j.html_length)>25e4&&(0,a.jsxs)("div",{className:"text-[#f59e0b] text-sm mb-3 p-2 bg-[#f59e0b]/10 rounded",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0 inline mr-1"}),"Website too large (",Math.round(j.html_length/1e3),"K chars) - analysis skipped"]}),j&&"completed"!==f&&(0,a.jsxs)("div",{className:"text-[#ef4444] text-sm mb-3 p-2 bg-[#ef4444]/10 rounded",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0 inline mr-1"}),"Phase 1 extraction missing"]}),"completed"===f&&!b&&!(null==j?void 0:j.signal_evaluations)&&(0,a.jsxs)("div",{className:"text-[#ef4444] text-sm mb-3 p-2 bg-[#ef4444]/10 rounded",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0 inline mr-1"}),"Phase 2 scoring not complete"]}),b&&!b.signal_evaluations&&!(null==j?void 0:j.signal_evaluations)&&(0,a.jsxs)("div",{className:"text-[#ef4444] text-sm mb-3 p-2 bg-[#ef4444]/10 rounded",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mt-0.5 flex-shrink-0 inline mr-1"}),"Signal evaluations not available"]}),((null==S?void 0:S.one_liner)||t)&&(0,a.jsx)("div",{className:"mb-3 pb-3 border-b border-[#2a2d31]",children:(0,a.jsx)("div",{className:"text-sm text-[#ddd] leading-relaxed",children:(null==S?void 0:S.one_liner)||t})}),(null==b?void 0:b.signal_evaluations)&&b.signal_evaluations.length>0||(null==j?void 0:j.signal_evaluations)&&j.signal_evaluations.length>0?(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)("span",{className:"text-[#666] text-xs font-bold",children:"KEY SIGNALS"})}),(0,a.jsx)("ul",{className:"space-y-1.5",children:((null==b?void 0:b.signal_evaluations)||(null==j?void 0:j.signal_evaluations)||[]).slice(0,4).sort((e,t)=>e.assigned_tier-t.assigned_tier).map((e,t)=>{var s,r,l;let n=(e=>{switch(e){case 1:return 90;case 2:return 70;case 3:return 45;case 4:return 15;default:return 0}})(e.assigned_tier),i=W===t;return(0,a.jsxs)("li",{className:"text-xs",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-[#666] mr-2",children:"•"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-[#ddd]",children:e.signal}),(0,a.jsxs)("span",{className:"ml-2 font-bold ".concat(en(n)," ").concat(N?"cursor-pointer hover:underline":""),onClick:e=>{e.stopPropagation(),N&&O(W===t?null:t)},title:N?"Click to see reasoning":"",children:["[",n,"]"]})]})]}),N&&i&&e.reasoning&&(0,a.jsxs)("div",{className:"mt-2 ml-4 p-2 bg-[#2a2d31] rounded text-[10px] text-[#999]",children:[(0,a.jsxs)("div",{className:"font-semibold text-[#aaa] mb-1",children:["Tier ",e.assigned_tier," Reasoning:"]}),(0,a.jsx)("div",{children:e.reasoning}),e.progression&&(0,a.jsxs)("div",{className:"mt-2 text-[9px]",children:[(0,a.jsxs)("div",{children:["• vs Tier 4: ","object"==typeof e.progression.tier_4_comparison?e.progression.tier_4_comparison.why:e.progression.tier_4_comparison]}),(0,a.jsxs)("div",{children:["• vs Tier 3: ","object"==typeof e.progression.tier_3_comparison?e.progression.tier_3_comparison.why:e.progression.tier_3_comparison]}),(0,a.jsxs)("div",{children:["• vs Tier 2: ","object"==typeof e.progression.tier_2_comparison?e.progression.tier_2_comparison.why:e.progression.tier_2_comparison]}),(0,a.jsxs)("div",{children:["• vs Tier 1: ","object"==typeof e.progression.tier_1_comparison?e.progression.tier_1_comparison.why:e.progression.tier_1_comparison]})]}),y&&(0,a.jsxs)("div",{className:"mt-3 pt-2 border-t border-[#333]",children:[(0,a.jsx)("div",{className:"text-[#ff9500] text-[9px] font-bold mb-2",children:"ADMIN: Signal Feedback"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e.signal,"too_high")},className:"px-2 py-0.5 rounded text-[9px] transition-colors ".concat((null==(s=H[e.signal])?void 0:s.issue)==="too_high"?"bg-red-900/50 text-red-400 border border-red-700":"bg-[#1a1c1f] text-[#888] border border-[#333] hover:bg-[#222]"),children:"Too High"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e.signal,"too_low")},className:"px-2 py-0.5 rounded text-[9px] transition-colors ".concat((null==(r=H[e.signal])?void 0:r.issue)==="too_low"?"bg-blue-900/50 text-blue-400 border border-blue-700":"bg-[#1a1c1f] text-[#888] border border-[#333] hover:bg-[#222]"),children:"Too Low"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e.signal,"incorrect")},className:"px-2 py-0.5 rounded text-[9px] transition-colors ".concat((null==(l=H[e.signal])?void 0:l.issue)==="incorrect"?"bg-yellow-900/50 text-yellow-400 border border-yellow-700":"bg-[#1a1c1f] text-[#888] border border-[#333] hover:bg-[#222]"),children:"Wrong"}),H[e.signal]&&(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e.signal,null)},className:"px-2 py-0.5 rounded text-[9px] bg-[#1a1c1f] text-[#666] border border-[#333] hover:bg-[#222]",children:"Clear"})]}),H[e.signal]&&!Z[e.signal]?(0,a.jsxs)("div",{className:"mt-2 p-2 bg-[#1a1c1f]/50 border border-[#333] rounded",children:[(0,a.jsxs)("div",{className:"text-[9px] text-[#999]",children:["Marked as: ",(0,a.jsx)("span",{className:"text-[#ff9500]",children:H[e.signal].issue})]}),H[e.signal].note&&(0,a.jsxs)("div",{className:"mt-1 text-[9px] text-[#aaa]",children:["Note: ",H[e.signal].note]}),(0,a.jsxs)("div",{className:"mt-2 flex gap-1",children:[(0,a.jsx)("button",{onClick:t=>{var s;t.stopPropagation(),Q({...Z,[e.signal]:!0}),Y({...X,[e.signal]:(null==(s=H[e.signal])?void 0:s.note)||""})},className:"px-2 py-0.5 bg-[#222] text-[#888] rounded text-[9px] hover:bg-[#333] transition-colors",children:"Edit"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e.signal,null)},className:"px-2 py-0.5 bg-[#222] text-red-400 rounded text-[9px] hover:bg-[#333] transition-colors",children:"Delete"})]})]}):(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Add specific feedback note...",value:void 0!==X[e.signal]?X[e.signal]:"",onChange:t=>{var s;let a=t.target.value;Y({...X,[e.signal]:a}),(null==(s=H[e.signal])?void 0:s.issue)&&K({...H,[e.signal]:{...H[e.signal],note:a,date:new Date().toISOString().split("T")[0]}})},onClick:e=>e.stopPropagation(),className:"w-full px-2 py-1 bg-[#1a1c1f] border border-[#333] rounded text-[9px] text-[#ddd] placeholder-[#555]"}),Z[e.signal]&&(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),Q({...Z,[e.signal]:!1}),Y({...X,[e.signal]:""})},className:"mt-1 px-2 py-0.5 bg-[#222] text-[#666] rounded text-[9px] hover:bg-[#333] transition-colors",children:"Cancel Edit"})]}),Object.keys(X).length>0&&!$&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),el()},className:"mt-2 px-2 py-1 bg-[#ff9500] text-black rounded text-[9px] font-medium hover:bg-[#ffb033] transition-colors",children:"Save All Feedback"}),$&&(0,a.jsxs)("div",{className:"mt-2 px-2 py-1 bg-green-900/30 text-green-400 rounded text-[9px] font-medium",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 inline mr-1"}),"Feedback saved successfully"]})]})]})]},t)})})]}):ei&&ei.length>0?(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)("span",{className:"text-[#666] text-xs font-bold",children:"KEY SIGNALS"})}),(0,a.jsx)("ul",{className:"space-y-1.5",children:ei.map((e,t)=>{let r=s[t],l=null==r?void 0:r.strength_score;return(0,a.jsxs)("li",{className:"text-xs flex items-start",children:[(0,a.jsx)("span",{className:"text-[#666] mr-2",children:"•"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-[#ddd]",children:e}),l&&(0,a.jsxs)("span",{className:"ml-2 font-bold ".concat(en(l)),children:["[",l,"]"]})]})]},t)})})]}):((null==S?void 0:S.pros)||(null==S?void 0:S.cons))&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(null==S?void 0:S.pros)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-1 mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 text-[#00ff88]"}),(0,a.jsx)("span",{className:"text-[#00ff88] text-xs font-bold",children:"PROS"})]})}),(0,a.jsx)("ul",{className:"space-y-1",children:S.pros.slice(0,5).map((e,t)=>{let s=e.length>50?e.substring(0,47)+"...":e;return(0,a.jsxs)("li",{className:"text-[11px] text-[#aaa] flex items-start",children:[(0,a.jsx)("span",{className:"text-[#00ff88] mr-1.5",children:"•"}),(0,a.jsx)("span",{children:s})]},t)})})]}),(null==S?void 0:S.cons)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-1 mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3 text-[#ff4444]"}),(0,a.jsx)("span",{className:"text-[#ff4444] text-xs font-bold",children:"CONS"})]})}),(0,a.jsx)("ul",{className:"space-y-1",children:S.cons.slice(0,3).map((e,t)=>{let s=e;s.toLowerCase().startsWith("no ")&&(s=s.substring(3));let r=s.length>50?s.substring(0,47)+"...":s;return(0,a.jsxs)("li",{className:"text-[11px] text-[#aaa] flex items-start",children:[(0,a.jsx)("span",{className:"text-[#ff4444] mr-1.5",children:"•"}),(0,a.jsx)("span",{children:r})]},t)})})]})]}),eo.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)("span",{className:"text-[#666] text-xs font-bold",children:"CONCERNS"})}),(0,a.jsx)("ul",{className:"space-y-1",children:eo.slice(0,3).map((e,t)=>(0,a.jsxs)("li",{className:"text-xs flex items-start",children:[(0,a.jsx)("span",{className:"text-[#666] mr-2",children:"•"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("span",{className:"text-[#ddd]",children:e})})]},t))})]}),(C||(null==j?void 0:j.technical_assessment))&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#2a2d31]",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)("span",{className:"text-[#666] text-xs font-bold",children:"TECHNICAL ASSESSMENT"})}),(0,a.jsx)("div",{className:"text-[11px] text-[#aaa] leading-relaxed",children:C||(null==j?void 0:j.technical_assessment)})]}),(0,a.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-0 h-0 ".concat("above"===D.placement?"-bottom-2 border-l-[8px] border-l-transparent border-t-[8px] border-t-[#1a1c1f] border-r-[8px] border-r-transparent":"-top-2 border-l-[8px] border-l-transparent border-b-[8px] border-b-[#1a1c1f] border-r-[8px] border-r-transparent")}),N&&((null==j?void 0:j.whitepaper_url)||(null==j?void 0:j.github_url)||(null==j?void 0:j.docs_url)||(null==j?void 0:j.social_urls)&&j.social_urls.length>0||(null==j?void 0:j.important_resources)&&j.important_resources.length>0)&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#2a2d31]",children:[(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),ea(!es)},className:"flex items-center gap-2 text-[10px] text-[#00ff88] font-bold hover:text-[#00ff99] transition-colors cursor-pointer",children:[(0,a.jsx)("span",{children:es?"▼":"▶"}),(0,a.jsx)("span",{children:"CRITICAL RESOURCES"})]}),es&&(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[9px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[#ff9500] w-20",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Whitepaper:"})]}),(null==j?void 0:j.whitepaper_url)?(0,a.jsxs)("span",{className:"text-[#aaa] font-mono truncate flex-1",children:[j.whitepaper_url.length>40?j.whitepaper_url.substring(0,37)+"...":j.whitepaper_url,(0,a.jsx)("span",{className:"text-[#00ff88] ml-2",children:"→ Stage 2"})]}):(0,a.jsx)("span",{className:"text-[#666]",children:"Not found"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[9px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[#10b981] w-20",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Docs:"})]}),(null==j?void 0:j.docs_url)?(0,a.jsxs)("span",{className:"text-[#aaa] font-mono truncate flex-1",children:[j.docs_url.length>40?j.docs_url.substring(0,37)+"...":j.docs_url,(0,a.jsx)("span",{className:"text-[#00ff88] ml-2",children:"→ Stage 3"})]}):(0,a.jsx)("span",{className:"text-[#666]",children:"Not found"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[9px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[#8b5cf6] w-20",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"GitHub:"})]}),(null==j?void 0:j.github_url)?(0,a.jsxs)("span",{className:"text-[#aaa] font-mono truncate flex-1",children:[j.github_url.length>40?j.github_url.substring(0,37)+"...":j.github_url,(0,a.jsx)("span",{className:"text-[#00ff88] ml-2",children:"→ Stage 4"})]}):(0,a.jsx)("span",{className:"text-[#666]",children:"Not found"})]}),(null==j?void 0:j.social_urls)&&j.social_urls.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[9px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[#3b82f6] w-20",children:[(0,a.jsx)(p.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Social:"})]}),(0,a.jsxs)("span",{className:"text-[#aaa]",children:["(",j.social_urls.length," links)"]})]}),(null==j?void 0:j.important_resources)&&j.important_resources.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[9px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[#fbbf24] w-20",children:[(0,a.jsx)(u.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Other:"})]}),(0,a.jsxs)("span",{className:"text-[#aaa]",children:["(",j.important_resources.length," resources)"]})]})]})]}),N&&ec&&Object.keys(ec).length>0&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#2a2d31]",children:[(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),et(!ee)},className:"flex items-center gap-2 text-[10px] text-[#ff9500] font-bold hover:text-[#ffb033] transition-colors cursor-pointer",children:[(0,a.jsx)("span",{children:ee?"▼":"▶"}),(0,a.jsxs)("span",{children:["ADMIN: DISCOVERED LINKS (",Object.values(ec).flat().length,")"]})]}),ee&&(0,a.jsxs)("div",{className:"mt-2 space-y-3 max-h-[300px] overflow-y-auto",children:[Object.entries(ec).map(e=>{let[t,s]=e,r="github"===t?"text-[#8b5cf6]":"documentation"===t?"text-[#10b981]":"social"===t?"text-[#3b82f6]":"text-[#6b7280]";return(0,a.jsxs)("div",{className:"bg-[#0f1011] p-2 rounded border border-[#333]",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-[10px] font-bold uppercase tracking-wider ".concat(r),children:[t.replace("_"," ")," (",s.length,")"]})}),(0,a.jsx)("div",{className:"space-y-1",children:s.map((e,t)=>{let s=e.url.length>50?e.url.substring(0,47)+"...":e.url,r=e.text&&"No text"!==e.text&&e.text.length>30?e.text.substring(0,27)+"...":e.text;return(0,a.jsxs)("div",{className:"flex items-start gap-2 text-[9px]",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-[#444]",children:"•"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-[#aaa] font-mono truncate",children:s}),r&&"No text"!==r&&(0,a.jsxs)("div",{className:"text-[#666] italic truncate mt-0.5",children:["“",r,"”"]})]})]},t)})})]},t)}),(0,a.jsx)("div",{className:"text-[9px] text-[#666] italic pt-2 border-t border-[#333]",children:"✓ = Selected for Stage 2 analysis • ○ = Discovered but not used"})]})]}),P&&N&&(null==b?void 0:b.signal_evaluations)&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-[#2a2d31] text-[10px] text-[#666]",children:"\uD83D\uDCA1 Click on signal scores to see AI reasoning"})]})}),document.body)]})}var g=s(9650),b=s(7937),f=s(6955),v=s(5870),j=s(5998),N=s(508),y=s(368),w=s(4033);function _(){try{let e=localStorage.getItem("carProjectsFilters");if(e){let t=JSON.parse(e),s=!1;"excludeRugs"in t&&(delete t.excludeRugs,s=!0),"excludeImposters"in t&&(t.includeImposters=!t.excludeImposters,delete t.excludeImposters,s=!0),"excludeUnverified"in t&&(t.includeUnverified=!t.excludeUnverified,delete t.excludeUnverified,s=!0),s&&(localStorage.setItem("carProjectsFilters",JSON.stringify(t)),console.log("Migrated filter settings to new format"))}let t=localStorage.getItem("carProjectsFilterSections");if(t){let e=JSON.parse(t);"rugs"in e&&(e.safety=e.rugs,delete e.rugs,localStorage.setItem("carProjectsFilterSections",JSON.stringify(e)),console.log("Updated filter sections from rugs to safety"))}}catch(e){console.error("Error cleaning up localStorage:",e)}}function k(e){let{onFiltersChange:t,onSidebarToggle:s}=e,l=()=>{{let e=localStorage.getItem("carProjectsFilters");if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse saved filters:",e)}}return{tokenType:"all",networks:["ethereum","solana","bsc","base","pulsechain","other"],includeImposters:!1,includeUnverified:!1,minWebsiteScore:1,minAge:void 0,maxAge:void 0,minMarketCap:void 0,maxMarketCap:void 0}},n=(()=>{{let e=localStorage.getItem("carProjectsFilterSections");if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse saved section states:",e)}}return{tokenType:!1,networks:!0,safety:!0,scores:!0,age:!0,marketCap:!0}})(),[i,o]=(0,r.useState)(()=>"true"===localStorage.getItem("carSidebarCollapsed")),[c,d]=(0,r.useState)(l),[x,m]=(0,r.useState)(n.tokenType),[p,u]=(0,r.useState)(()=>{let e=l();return"all"===e.tokenType||"utility"===e.tokenType}),[h,g]=(0,r.useState)(()=>{let e=l();return"all"===e.tokenType||"meme"===e.tokenType}),[k,S]=(0,r.useState)(()=>{let e=l();return void 0!==e.includeUnverified&&e.includeUnverified}),[C,A]=(0,r.useState)(n.networks),[I,T]=(0,r.useState)(()=>l().networks||["ethereum","solana","bsc","base","pulsechain","other"]),[E,M]=(0,r.useState)(n.safety||!0),[F,P]=(0,r.useState)(()=>{let e=l();return void 0!==e.includeImposters&&e.includeImposters}),[R,W]=(0,r.useState)(n.scores),[O,D]=(0,r.useState)(()=>l().minWebsiteScore||1),[z,U]=(0,r.useState)(n.age||!0),[L,J]=(0,r.useState)(()=>l().minAge),[B,V]=(0,r.useState)(()=>l().maxAge),[q,H]=(0,r.useState)(n.marketCap||!0),[K,X]=(0,r.useState)(()=>l().minMarketCap),[Y,$]=(0,r.useState)(()=>l().maxMarketCap);(0,r.useEffect)(()=>{_()},[]),(0,r.useEffect)(()=>{localStorage.setItem("carProjectsFilters",JSON.stringify(c)),t(c)},[c,t]),(0,r.useEffect)(()=>{localStorage.setItem("carProjectsFilterSections",JSON.stringify({tokenType:x,networks:C,safety:E,scores:R,age:z,marketCap:q}))},[x,C,E,R,z,q]),(0,r.useEffect)(()=>{localStorage.setItem("carSidebarCollapsed",String(i)),null==s||s(i)},[i,s]),(0,r.useEffect)(()=>{d(e=>({...e,includeImposters:F}))},[F,d]),(0,r.useEffect)(()=>{d(e=>({...e,includeUnverified:k}))},[k,d]),(0,r.useEffect)(()=>{d(e=>({...e,minAge:L,maxAge:B}))},[L,B,d]),(0,r.useEffect)(()=>{d(e=>({...e,minMarketCap:K,maxMarketCap:Y}))},[K,Y,d]);let G=(e,t)=>{let s="all";if(e&&t)s="all";else if(e&&!t)s="utility";else if(!e&&t)s="meme";else{u(!0),g(!0),s="all";return}d(e=>({...e,tokenType:s}))};return(0,a.jsx)("div",{className:"relative flex-shrink-0",children:(0,a.jsx)("div",{className:"bg-[#111214] border-r border-[#2a2d31] h-full transition-all duration-300 ".concat(i?"w-[50px]":"w-[300px] overflow-y-auto scrollbar-hide"),children:i?(0,a.jsxs)("div",{className:"flex flex-col items-center py-4 gap-3",children:[(0,a.jsx)("button",{onClick:()=>{o(!1),null==s||s(!1)},className:"w-9 h-9 rounded-md bg-[#1a1c1f] border border-[#2a2d31] flex items-center justify-center hover:bg-[#252729] hover:border-[#00ff88] transition-all group",title:"Expand Filters",children:(0,a.jsx)(b.A,{className:"w-5 h-5 text-[#666] group-hover:text-[#00ff88] transition-colors"})}),(0,a.jsx)("button",{className:"w-9 h-9 rounded-md bg-[#1a1c1f] border border-[#2a2d31] flex items-center justify-center hover:bg-[#252729] hover:border-[#00ff88] transition-all group",title:"Filters",children:(0,a.jsx)(f.A,{className:"w-5 h-5 text-[#666] group-hover:text-[#00ff88] transition-colors"})}),(0,a.jsx)("button",{className:"w-9 h-9 rounded-md bg-[#1a1c1f] border border-[#2a2d31] flex items-center justify-center hover:bg-[#252729] hover:border-[#00ff88] transition-all group",title:"Settings",children:(0,a.jsx)(v.A,{className:"w-5 h-5 text-[#666] group-hover:text-[#00ff88] transition-colors"})}),(0,a.jsxs)("button",{className:"w-9 h-9 rounded-md bg-[#1a1c1f] border border-[#2a2d31] flex items-center justify-center hover:bg-[#252729] hover:border-[#00ff88] transition-all group relative",title:"Notifications",children:[(0,a.jsx)(j.A,{className:"w-5 h-5 text-[#666] group-hover:text-[#00ff88] transition-colors"}),(0,a.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-[#00ff88] rounded-full"})]}),(0,a.jsx)("button",{className:"w-9 h-9 rounded-md bg-[#1a1c1f] border border-[#2a2d31] flex items-center justify-center hover:bg-[#252729] hover:border-[#00ff88] transition-all group",title:"Account",children:(0,a.jsx)(N.A,{className:"w-5 h-5 text-[#666] group-hover:text-[#00ff88] transition-colors"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"px-5 py-5 border-b border-[#1a1c1f] flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-sm uppercase tracking-[2px] text-[#666] font-semibold",children:"FILTERS"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{u(!0),g(!0),T(["ethereum","solana","bsc","base","pulsechain","other"]),P(!1),S(!1),D(1),J(void 0),V(void 0),X(void 0),$(void 0),m(!1),A(!0),M(!0),W(!0),U(!0),H(!0),d({tokenType:"all",networks:["ethereum","solana","bsc","base","pulsechain","other"],includeImposters:!1,includeUnverified:!1,minWebsiteScore:1,minAge:void 0,maxAge:void 0,minMarketCap:void 0,maxMarketCap:void 0}),localStorage.removeItem("kromProjectsFilters"),localStorage.removeItem("kromProjectsFilterSections")},className:"text-xs text-[#666] hover:text-[#00ff88] transition-colors uppercase tracking-[1px] font-medium",children:"Reset"}),(0,a.jsx)("button",{onClick:()=>{o(!0),null==s||s(!0)},className:"bg-[#1a1c1f] hover:bg-[#252729] rounded px-2 py-2 transition-all",title:"Hide Filters",children:(0,a.jsx)(y.A,{className:"w-4 h-4 text-[#666] hover:text-[#00ff88] transition-colors"})})]})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(x?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>m(!x),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(x?"text-[#888]":"text-[#00ff88]"),children:"Token Type"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!x?"text-[#00ff88]":"text-[#666]"," ").concat(x?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(x?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer text-sm text-[#ccc] hover:text-white transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 rounded-[5px] transition-all flex items-center justify-center ".concat(p?"bg-[#00ff88] border-[#00ff88]":"border-[#333]"),onClick:()=>{let e=!p;u(e),G(e,h)},children:p&&(0,a.jsx)("span",{className:"text-black font-bold text-xs",children:"✓"})}),(0,a.jsx)("span",{children:"Utility Tokens"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer text-sm text-[#ccc] hover:text-white transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 rounded-[5px] transition-all flex items-center justify-center ".concat(h?"bg-[#00ff88] border-[#00ff88]":"border-[#333]"),onClick:()=>{let e=!h;g(e),G(p,e)},children:h&&(0,a.jsx)("span",{className:"text-black font-bold text-xs",children:"✓"})}),(0,a.jsx)("span",{children:"Meme Tokens"})]})]})})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(E?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>M(!E),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(E?"text-[#888]":"text-[#00ff88]"),children:"Safety"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!E?"text-[#00ff88]":"text-[#666]"," ").concat(E?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(E?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer text-sm text-[#ccc] hover:text-white transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 rounded-[5px] transition-all flex items-center justify-center ".concat(F?"bg-[#00ff88] border-[#00ff88]":"border-[#333]"),onClick:()=>{P(!F)},children:F&&(0,a.jsx)("span",{className:"text-black font-bold text-xs",children:"✓"})}),(0,a.jsx)("span",{children:"Include Imposters"})]}),(0,a.jsx)("div",{className:"text-xs text-[#666] mt-1",children:"When checked, shows tokens marked as having inauthentic websites"}),(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer text-sm text-[#ccc] hover:text-white transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 rounded-[5px] transition-all flex items-center justify-center ".concat(k?"bg-[#00ff88] border-[#00ff88]":"border-[#333]"),onClick:()=>{S(!k)},children:k&&(0,a.jsx)("span",{className:"text-black font-bold text-xs",children:"✓"})}),(0,a.jsx)("span",{children:"Include Unverified"})]}),(0,a.jsx)("div",{className:"text-xs text-[#666] mt-1",children:"When checked, also shows tokens whose contract is not found on their website"})]})})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(C?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>A(!C),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(C?"text-[#888]":"text-[#00ff88]"),children:"Networks"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!C?"text-[#00ff88]":"text-[#666]"," ").concat(C?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(C?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsx)("div",{className:"flex flex-col gap-3",children:[{id:"ethereum",label:"Ethereum",color:"#627eea"},{id:"solana",label:"Solana",color:"#00ffa3"},{id:"bsc",label:"BSC",color:"#ffcc00"},{id:"base",label:"Base",color:"#0052ff"},{id:"pulsechain",label:"PulseChain",color:"#ff00ff"},{id:"other",label:"Other",color:"#888888"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer text-sm text-[#ccc] hover:text-white transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 rounded-[5px] transition-all flex items-center justify-center ".concat(I.includes(e.id)?"bg-[#00ff88] border-[#00ff88]":"border-[#333]"),onClick:()=>{let t=I.includes(e.id)?I.filter(t=>t!==e.id):[...I,e.id];0!==t.length&&(T(t),d(e=>({...e,networks:t})))},children:I.includes(e.id)&&(0,a.jsx)("span",{className:"text-black font-bold text-xs",children:"✓"})}),(0,a.jsx)("span",{style:{color:I.includes(e.id)?e.color:"#ccc"},children:e.label})]},e.id))})})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(R?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>W(!R),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(R?"text-[#888]":"text-[#00ff88]"),children:"Website Score"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!R?"text-[#00ff88]":"text-[#666]"," ").concat(R?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(R?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsx)("div",{className:"space-y-5",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("label",{className:"text-xs uppercase tracking-wider text-[#666]",children:"Min Website Score"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-white",children:O})]}),(0,a.jsx)("input",{type:"range",min:"1",max:"10",step:"1",value:O,onChange:e=>{let t=parseInt(e.target.value);D(t),d(e=>({...e,minWebsiteScore:t}))},className:"w-full h-2 bg-[#1a1c1f] rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #00ff88 0%, #00ff88 ".concat((O-1)/9*100,"%, #1a1c1f ").concat((O-1)/9*100,"%, #1a1c1f 100%)")}}),(0,a.jsxs)("div",{className:"flex justify-between text-[10px] text-[#666] mt-1",children:[(0,a.jsx)("span",{children:"1"}),(0,a.jsx)("span",{children:"5"}),(0,a.jsx)("span",{children:"10"})]})]})})})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(z?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>U(!z),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(z?"text-[#888]":"text-[#00ff88]"),children:"Project Age"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!z?"text-[#00ff88]":"text-[#666]"," ").concat(z?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(z?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs text-[#888] mb-2 block",children:["Minimum Age (years): ",(0,a.jsx)("span",{className:"text-white",children:L||"Any"})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"10",step:"0.5",value:L||0,onChange:e=>{let t=parseFloat(e.target.value);J(t>0?t:void 0)},className:"w-full h-2 bg-[#1a1c1f] rounded-lg appearance-none cursor-pointer slider",style:{background:L?"linear-gradient(to right, #00ff88 0%, #00ff88 ".concat(L/10*100,"%, #1a1c1f ").concat(L/10*100,"%, #1a1c1f 100%)"):"#1a1c1f"}}),(0,a.jsxs)("div",{className:"flex justify-between text-[10px] text-[#666] mt-1",children:[(0,a.jsx)("span",{children:"0"}),(0,a.jsx)("span",{children:"5"}),(0,a.jsx)("span",{children:"10+"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs text-[#888] mb-2 block",children:["Maximum Age (years): ",(0,a.jsx)("span",{className:"text-white",children:B||"Any"})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"10",step:"0.5",value:B||10,onChange:e=>{let t=parseFloat(e.target.value);V(t<10?t:void 0)},className:"w-full h-2 bg-[#1a1c1f] rounded-lg appearance-none cursor-pointer slider",style:{background:B?"linear-gradient(to right, #00ff88 0%, #00ff88 ".concat(B/10*100,"%, #1a1c1f ").concat(B/10*100,"%, #1a1c1f 100%)"):"#1a1c1f"}}),(0,a.jsxs)("div",{className:"flex justify-between text-[10px] text-[#666] mt-1",children:[(0,a.jsx)("span",{children:"0"}),(0,a.jsx)("span",{children:"5"}),(0,a.jsx)("span",{children:"10+"})]})]})]})})]}),(0,a.jsxs)("div",{className:"border-b border-[#1a1c1f] ".concat(q?"collapsed":""),children:[(0,a.jsxs)("div",{className:"px-5 py-5 cursor-pointer flex justify-between items-center bg-[#111214] hover:bg-[#1a1c1f] hover:pl-6 transition-all",onClick:()=>H(!q),children:[(0,a.jsx)("h3",{className:"text-[13px] uppercase tracking-[1px] font-semibold transition-colors ".concat(q?"text-[#888]":"text-[#00ff88]"),children:"Market Cap"}),(0,a.jsx)(w.A,{className:"w-3 h-3 transition-all ".concat(!q?"text-[#00ff88]":"text-[#666]"," ").concat(q?"-rotate-90":"")})]}),(0,a.jsx)("div",{className:"bg-[#0a0b0d] overflow-hidden transition-all ".concat(q?"max-h-0 opacity-0":"max-h-[500px] opacity-100 p-5"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-[#888] mb-2 block uppercase tracking-wider",children:"Minimum Market Cap"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g. 100K, 1M, 5.5M",value:K?K>=1e6?"".concat((K/1e6).toFixed(1).replace(/\.0$/,""),"M"):K>=1e3?"".concat((K/1e3).toFixed(0),"K"):K.toString():"",onChange:e=>{let t=e.target.value.trim().toUpperCase();if(""===t)return void X(void 0);let s=0;!isNaN(s=t.endsWith("K")?1e3*parseFloat(t.slice(0,-1)):t.endsWith("M")?1e6*parseFloat(t.slice(0,-1)):t.endsWith("B")?1e9*parseFloat(t.slice(0,-1)):parseFloat(t))&&s>0&&X(Math.round(s))},className:"w-full px-3 py-2 bg-[#1a1c1f] border border-[#2a2d31] rounded-md text-white placeholder-[#666] focus:outline-none focus:border-[#00ff88] transition-colors"}),(0,a.jsx)("div",{className:"text-[10px] text-[#666] mt-1",children:"Enter values like 100K, 1M, or 5500000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-[#888] mb-2 block uppercase tracking-wider",children:"Maximum Market Cap"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g. 10M, 100M, 1B",value:Y?Y>=1e9?"".concat((Y/1e9).toFixed(1).replace(/\.0$/,""),"B"):Y>=1e6?"".concat((Y/1e6).toFixed(1).replace(/\.0$/,""),"M"):Y>=1e3?"".concat((Y/1e3).toFixed(0),"K"):Y.toString():"",onChange:e=>{let t=e.target.value.trim().toUpperCase();if(""===t)return void $(void 0);let s=0;!isNaN(s=t.endsWith("K")?1e3*parseFloat(t.slice(0,-1)):t.endsWith("M")?1e6*parseFloat(t.slice(0,-1)):t.endsWith("B")?1e9*parseFloat(t.slice(0,-1)):parseFloat(t))&&s>0&&$(Math.round(s))},className:"w-full px-3 py-2 bg-[#1a1c1f] border border-[#2a2d31] rounded-md text-white placeholder-[#666] focus:outline-none focus:border-[#00ff88] transition-colors"}),(0,a.jsx)("div",{className:"text-[10px] text-[#666] mt-1",children:"Leave empty for no maximum limit"})]})]})})]})]})})})}let S={ethereum:{display:"Ethereum",value:"ethereum",dexscreener:"ethereum"},solana:{display:"Solana",value:"solana",dexscreener:"solana"},bsc:{display:"BNB Chain",value:"bsc",dexscreener:"bsc"},base:{display:"Base",value:"base",dexscreener:"base"},pulsechain:{display:"PulseChain",value:"pulsechain",dexscreener:"pulsechain"}};function C(e){return e?e.website_url?"scrape_error"===e.website_status?{stage:"failed",progress:25,message:"Website scraping failed",isComplete:!1,hasError:!0,errorMessage:"Unable to access website for analysis"}:"blocked"===e.website_status?{stage:"failed",progress:25,message:"Website blocks automated analysis",isComplete:!1,hasError:!0,errorMessage:"Social media links cannot be analyzed automatically"}:"dead"===e.website_status?{stage:"failed",progress:25,message:"Website is inactive",isComplete:!1,hasError:!0,errorMessage:"Website appears to be a parking page or inactive"}:!e.extraction_status&&e.website_url?{stage:"scraping",progress:25,message:"Fetching website content...",estimatedTimeRemaining:"30-60 seconds",isComplete:!1,hasError:!1}:"processing"===e.extraction_status?{stage:"ai_analysis",progress:50,message:"AI analyzing website content...",estimatedTimeRemaining:"1-2 minutes",isComplete:!1,hasError:!1}:"failed"===e.extraction_status?{stage:"failed",progress:50,message:"AI analysis failed",isComplete:!1,hasError:!0,errorMessage:"Unable to analyze website content"}:"completed"!==e.extraction_status||e.comparison_status?"processing"===e.comparison_status?{stage:"benchmark_scoring",progress:85,message:"Calculating final score...",estimatedTimeRemaining:"15 seconds",isComplete:!1,hasError:!1}:"failed"===e.comparison_status?{stage:"failed",progress:75,message:"Scoring failed",isComplete:!1,hasError:!0,errorMessage:"Unable to calculate quality score"}:"completed"===e.comparison_status&&null!==e.website_stage1_score?{stage:"complete",progress:100,message:"Analysis complete! Score: ".concat(e.website_stage1_score,"/100 (").concat(e.website_stage1_tier,")"),isComplete:!0,hasError:!1}:{stage:"scraping",progress:15,message:"Processing...",estimatedTimeRemaining:"2-3 minutes",isComplete:!1,hasError:!1}:{stage:"benchmark_scoring",progress:75,message:"Comparing against quality benchmarks...",estimatedTimeRemaining:"30 seconds",isComplete:!1,hasError:!1}:{stage:"website_discovery",progress:10,message:"Discovering project website...",estimatedTimeRemaining:"1-2 minutes",isComplete:!1,hasError:!1}:{stage:"website_discovery",progress:0,message:"Project not found",isComplete:!1,hasError:!0,errorMessage:"Project data not available"}}function A(e){var t,s,l,n;let{isOpen:i,onClose:o,onSuccess:c}=e,[d,x]=(0,r.useState)(""),[m,p]=(0,r.useState)("ethereum"),[u,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),[f,v]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),[_,k]=(0,r.useState)(""),[A,I]=(0,r.useState)(null),[T,E]=(0,r.useState)(!1),[M,F]=(0,r.useState)(null),[P,R]=(0,r.useState)(null),[W,O]=(0,r.useState)([]),[D,z]=(0,r.useState)(null),[U,L]=(0,r.useState)(!1),J=(0,r.useCallback)(async e=>{try{var t;let s=await fetch("/api/crypto-projects-rated?id=".concat(e));if(!s.ok)return null;let a=null==(t=(await s.json()).projects)?void 0:t[0];if(!a)return null;let r=C(a),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=C(e);if(t){let t=[{id:"website_discovery",name:"Website Discovery",icon:"\uD83D\uDD0D",status:"pending",estimatedDuration:"30-60s",dbField:"website_url"},{id:"website_scraping",name:"Website Content Scraping",icon:"\uD83D\uDCC4",status:"pending",estimatedDuration:"1-2m",dbField:"extraction_status"},{id:"ai_analysis",name:"AI Content Analysis",icon:"\uD83E\uDDE0",status:"pending",estimatedDuration:"30-60s",dbField:"extraction_status:processing"},{id:"benchmark_scoring",name:"Quality Benchmarking",icon:"⚖️",status:"pending",estimatedDuration:"20-30s",dbField:"comparison_status"},{id:"score_finalization",name:"Score & Tier Assignment",icon:"\uD83C\uDFC6",status:"pending",estimatedDuration:"5-10s",dbField:"website_stage1_score"},{id:"complete",name:"Analysis Complete",icon:"✅",status:"pending",estimatedDuration:"",dbField:"complete"}];return s.hasError?s.progress<=25?t[0].status="failed":s.progress<=50?(t[0].status="complete",t[1].status="failed"):s.progress<=75?(t[0].status="complete",t[1].status="complete",t[2].status="failed"):(t[0].status="complete",t[1].status="complete",t[2].status="complete",t[3].status="failed"):e.website_url?(t[0].status="complete",e.extraction_status?"processing"===e.extraction_status?(t[1].status="complete",t[2].status="in_progress"):"completed"===e.extraction_status&&(t[1].status="complete",t[2].status="complete",e.comparison_status?"processing"===e.comparison_status?t[3].status="in_progress":"completed"===e.comparison_status&&(t[3].status="complete",null===e.website_stage1_score||void 0===e.website_stage1_score?t[4].status="in_progress":(t[4].status="complete",t[5].status="complete")):t[3].status="in_progress"):t[1].status="in_progress"):t[0].status="in_progress",t}let a=[{id:"scraping",name:"Website Scraping",icon:"\uD83C\uDF10",status:"pending",estimatedDuration:"30-60s"},{id:"ai_analysis",name:"AI Analysis",icon:"\uD83E\uDDE0",status:"pending",estimatedDuration:"1-2m"},{id:"benchmark_scoring",name:"Quality Scoring",icon:"⚖️",status:"pending",estimatedDuration:"30s"},{id:"complete",name:"Ready for Viewing",icon:"✅",status:"pending",estimatedDuration:""}];switch(s.stage){case"scraping":a[0].status="in_progress";break;case"ai_analysis":a[0].status="complete",a[1].status="in_progress";break;case"benchmark_scoring":a[0].status="complete",a[1].status="complete",a[2].status="in_progress";break;case"complete":a.forEach(e=>e.status="complete");break;case"failed":let r=a.findIndex(e=>e.id===(s.progress<=25?"scraping":s.progress<=50?"ai_analysis":"benchmark_scoring"));a.forEach((e,t)=>{t<r?e.status="complete":t===r?e.status="failed":e.status="pending"})}return a}(a,U);return R(r),O(l),F(a),r}catch(e){return console.error("Error fetching project status:",e),null}},[]),B=(0,r.useCallback)((e,t,s,a)=>{E(!0),F({id:e,symbol:t,contract_address:s,network:a}),J(e);let r=setInterval(async()=>{let t=await J(e);((null==t?void 0:t.isComplete)||(null==t?void 0:t.hasError))&&(clearInterval(r),z(null))},1e4);z(r)},[J,U]);(0,r.useEffect)(()=>{i&&(async()=>{try{let e=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});L(e.ok)}catch(e){L(!1)}})()},[i]),(0,r.useEffect)(()=>(!i&&D&&(clearInterval(D),z(null)),()=>{D&&clearInterval(D)}),[i,D]);let V=()=>{D&&(clearInterval(D),z(null)),E(!1),F(null),R(null),O([]),b(null),v(null),N(null),w(!1),I(null),x(""),k(""),o()};if(!i)return null;let q=async(e,t)=>{e.preventDefault(),b(null),v(null),N(null),h(!0);try{let e={contractAddress:(null==A?void 0:A.address)||d.trim(),network:(null==A?void 0:A.network)||m};t&&(e.websiteUrl=t);let s=await fetch("/api/add-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok){if(409===s.status)if(a.tokenId&&a.symbol){console.log("Token exists but has tokenId - showing progress tracker"),b(null),v(null),N(null),w(!1),I(null),B(a.tokenId,a.symbol,d.trim(),m),h(!1);return}else b("Token already exists (".concat(a.symbol||"Unknown",")"));else if(429===s.status)b("Too many requests. Please try again later.");else if(400===s.status&&a.needsWebsite){b(null),N(a.error||"This token does not have a website listed."),w(!0),I({address:d.trim(),network:m,symbol:a.symbol}),h(!1);return}else b(a.error||"Failed to add token");h(!1);return}if(a.tokenId&&a.symbol)b(null),v(null),N(null),w(!1),I(null),B(a.tokenId,a.symbol,d.trim(),m);else{let e=a.message||"Token ".concat(a.symbol," added successfully!");v(e),x(""),k(""),w(!1),I(null),setTimeout(()=>{V(),c&&c()},2e3)}}catch(e){console.error("Error submitting token:",e),b("Network error. Please try again.")}finally{h(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#0d0e10] border border-[#1a1c1f] rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:T?"Processing Your Submission":"Add Token"}),(0,a.jsx)("button",{onClick:V,className:"text-gray-400 hover:text-white text-2xl leading-none","aria-label":"Close",children:"\xd7"})]}),T?(0,a.jsxs)("div",{className:"space-y-6",children:[M&&(0,a.jsx)("div",{className:"bg-[#1a1c1f] rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#00ff88] rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-black font-bold text-sm",children:(null==(t=M.symbol)?void 0:t.charAt(0))||"?"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-semibold",children:M.symbol||"Unknown Token"}),(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:(null==(s=M.network)?void 0:s.charAt(0).toUpperCase())+(null==(l=M.network)?void 0:l.slice(1))||"Unknown Network"})]})]})}),P&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Analysis Progress"}),(0,a.jsxs)("span",{className:"text-sm text-[#00ff88]",children:[P.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-[#1a1c1f] rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(P.hasError?"bg-red-500":"bg-[#00ff88]"),style:{width:"".concat(P.progress,"%")}})}),(0,a.jsxs)("div",{className:"text-sm ".concat(P.hasError?"text-red-400":"text-gray-300"),children:[P.message,P.estimatedTimeRemaining&&!P.isComplete&&!P.hasError&&(0,a.jsxs)("span",{className:"text-gray-500 ml-2",children:["(~",P.estimatedTimeRemaining," remaining)"]})]})]}),U&&M&&(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded p-2 text-xs space-y-1",children:[(0,a.jsx)("div",{className:"text-gray-400 font-mono",children:"Database Fields:"}),(0,a.jsxs)("div",{className:"text-yellow-400",children:["website_url: ",M.website_url?"✓":"✗"]}),(0,a.jsxs)("div",{className:"text-blue-400",children:["extraction_status: ",M.extraction_status||"null"]}),(0,a.jsxs)("div",{className:"text-purple-400",children:["comparison_status: ",M.comparison_status||"null"]}),(0,a.jsxs)("div",{className:"text-green-400",children:["website_stage1_score: ",null!=(n=M.website_stage1_score)?n:"null"]}),(0,a.jsxs)("div",{className:"text-orange-400",children:["website_status: ",M.website_status||"null"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-300",children:"Processing Stages"}),U&&(0,a.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:"Admin View"})]}),(0,a.jsx)("div",{className:"space-y-2 ".concat(U?"max-h-48 overflow-y-auto pr-2 scrollbar-hide":""),children:W.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs ".concat("complete"===e.status?"bg-[#00ff88] text-black":"in_progress"===e.status?"bg-blue-500 text-white animate-pulse":"failed"===e.status?"bg-red-500 text-white":"bg-[#2a2d31] text-gray-500"),children:"complete"===e.status?"✓":"in_progress"===e.status?e.icon:"failed"===e.status?"✗":t+1}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"text-sm ".concat("complete"===e.status?"text-[#00ff88]":"in_progress"===e.status?"text-blue-400":"failed"===e.status?"text-red-400":"text-gray-400"),children:[e.name,"in_progress"===e.status&&(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:e.estimatedDuration})]})})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(null==P?void 0:P.isComplete)?(0,a.jsx)("button",{onClick:()=>{V(),c&&c()},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-[#00ff88] text-black hover:bg-[#00cc66] transition-colors",children:"View Project"}):(null==P?void 0:P.hasError)?(0,a.jsx)("button",{onClick:()=>E(!1),className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Try Another Token"}):(0,a.jsx)("div",{className:"flex-1 text-center text-gray-400 text-sm py-2",children:"Keep this window open to track progress..."}),(0,a.jsx)("button",{onClick:V,className:"py-2 px-4 rounded-lg font-medium bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors",children:"Close"})]}),(null==P?void 0:P.hasError)&&P.errorMessage&&(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"Analysis Failed"}),P.errorMessage]})]}):(0,a.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"network",className:"block text-sm font-medium text-gray-300 mb-1",children:"Network"}),(0,a.jsx)("select",{id:"network",value:m,onChange:e=>p(e.target.value),className:"w-full bg-[#1a1c1f] border border-[#2a2d31] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500",disabled:u,children:Object.entries(S).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:t,children:s.display},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contractAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contract Address"}),(0,a.jsx)("input",{id:"contractAddress",type:"text",value:d,onChange:e=>x(e.target.value),placeholder:"solana"===m?"Enter Solana token address...":"0x...",className:"w-full bg-[#1a1c1f] border border-[#2a2d31] rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",disabled:u,required:!0})]}),g&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:g}),f&&(0,a.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3 text-green-400 text-sm",children:f}),j&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 text-yellow-400 text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"Website Required"}),j,(null==A?void 0:A.symbol)&&(0,a.jsxs)("div",{className:"mt-2 text-yellow-300",children:["Token: ",(0,a.jsx)("span",{className:"font-mono",children:A.symbol})]})]}),y&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-gray-300 mb-1",children:"Website URL (optional)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("input",{id:"websiteUrl",type:"url",value:_,onChange:e=>k(e.target.value),placeholder:"https://example.com",className:"w-full bg-[#1a1c1f] border border-[#2a2d31] rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:e=>{_.trim()&&q(e,_.trim())},disabled:!_.trim()||u,className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-400",children:u?"Adding...":"Add with Website"}),(0,a.jsx)("button",{type:"button",onClick:()=>{N(null),w(!1),I(null),x(""),k("")},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-gray-700 text-gray-300 hover:bg-gray-600",children:"Cancel"})]})]})]})]}),!y&&(0,a.jsx)("button",{type:"submit",disabled:u||!d.trim(),className:"w-full py-2 px-4 rounded-lg font-medium transition-colors ".concat(u||!d.trim()?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:u?"Checking Token...":"Add Token"})]}),!T&&(0,a.jsx)("p",{className:"mt-4 text-xs text-gray-500 text-center",children:"Token must be listed on a DEX with at least $100 liquidity"})]})})}var I=s(6651);function T(e){let{onSearch:t,placeholder:s="Search symbol or name..."}=e,[l,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(""),d=(0,r.useRef)(null),x=(0,r.useRef)(null);return((0,r.useEffect)(()=>{l&&d.current&&d.current.focus()},[l]),l)?(0,a.jsxs)("div",{className:"ml-3 flex items-center gap-2 bg-[#1a1c1f] rounded px-3 py-1.5",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 text-[#666] flex-shrink-0"}),(0,a.jsx)("input",{ref:d,type:"text",value:i,onChange:e=>{var s;o(s=e.target.value),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{t(s)},300)},placeholder:s,className:"bg-transparent border-none outline-none text-sm text-white placeholder-[#666] w-[200px]"}),(0,a.jsx)("button",{onClick:()=>{o(""),t(""),n(!1)},className:"p-0.5 rounded hover:bg-[#2a2d31] transition-colors","aria-label":"Clear search",children:(0,a.jsx)(c.A,{className:"w-3.5 h-3.5 text-[#666]"})})]}):(0,a.jsx)("button",{onClick:()=>n(!0),className:"ml-3 p-1.5 rounded hover:bg-[#1a1c1f] transition-colors","aria-label":"Search",children:(0,a.jsx)(I.A,{className:"w-4 h-4 text-[#666]"})})}var E=s(2529),M=s(7910),F=s(5530),P=s(3),R=s(2108),W=s(9540),O=s(386),D=s(4926),z=s(3141),U=s(5506),L=s(17),J=s(1360),B=s(2619),V=s.n(B),q=s(63);function H(){let e=(0,q.useRouter)(),[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,x]=(0,r.useState)(1),[m,p]=(0,r.useState)(!0),[u,b]=(0,r.useState)(()=>{{let e=localStorage.getItem("carProjectsSort");if(e)try{return JSON.parse(e).sortBy||"created_at"}catch(e){console.error("Failed to parse saved sort:",e)}}return"created_at"}),[f,j]=(0,r.useState)(()=>{{let e=localStorage.getItem("carProjectsSort");if(e)try{return JSON.parse(e).sortOrder||"desc"}catch(e){console.error("Failed to parse saved sort:",e)}}return"desc"}),[N,y]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[I,B]=(0,r.useState)(!1),[H,K]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!0),[$,G]=(0,r.useState)(null),[Z,Q]=(0,r.useState)(null),[ee,et]=(0,r.useState)(new Set),[es,ea]=(0,r.useState)(()=>localStorage.getItem("carViewMode")||"grid"),[er,el]=(0,r.useState)({tokenType:"all",networks:["ethereum","solana","bsc","base","pulsechain"],includeImposters:!1,includeUnverified:!1,minWebsiteScore:1}),[en,ei]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("carProjectsFilters");if(e)try{let t=JSON.parse(e);el(t),ec(t)}catch(e){console.error("Error parsing saved filters:",e)}ei(!0)},[]);let[eo,ec]=(0,r.useState)(er);(0,r.useEffect)(()=>{if(!en)return;let e=setTimeout(()=>{ec(er)},400);return()=>{clearTimeout(e)}},[er,en]),(0,r.useEffect)(()=>{localStorage.setItem("carProjectsSort",JSON.stringify({sortBy:u,sortOrder:f}))},[u,f]);let[ed,ex]=(0,r.useState)(new Set),[em,ep]=(0,r.useState)(()=>{{let e=new Set,t=Date.now();for(let s=0;s<sessionStorage.length;s++){let a=sessionStorage.key(s);if(a&&a.startsWith("screenshot_attempt_")){let s=parseInt(a.replace("screenshot_attempt_",""));t-parseInt(sessionStorage.getItem(a)||"0")<3e5&&e.add(s)}}return e}}),eu=(0,r.useRef)(null);(0,r.useEffect)(()=>{eh(),_()},[]);let eh=async()=>{try{let e=await fetch("/api/admin/auth"),t=await e.json();i(t.authenticated)}catch(e){console.error("Auth check failed:",e),i(!1)}finally{Y(!1)}},eg=async()=>{await fetch("/api/admin/auth",{method:"DELETE"}),i(!1),C(!1),e.refresh()},eb=async(e,t)=>{try{let a=await fetch("/api/admin/imposter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,isImposter:!t})});a.ok?(await a.json(),s(s=>s.map(s=>s.id===e?{...s,is_imposter:!t}:s)),Q({message:"Project ".concat(t?"unmarked as":"marked as"," imposter"),type:"success"})):Q({message:"Failed to update imposter status",type:"error"}),setTimeout(()=>Q(null),3e3)}catch(e){console.error("Error toggling imposter status:",e),Q({message:"Error updating imposter status",type:"error"}),setTimeout(()=>Q(null),3e3)}finally{G(null)}},ef=async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone.')))try{(await fetch("/api/admin/delete-project",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e})})).ok?(s(t=>t.filter(t=>t.id!==e)),Q({message:'Project "'.concat(t,'" deleted successfully'),type:"success"})):Q({message:"Failed to delete project",type:"error"}),setTimeout(()=>Q(null),3e3)}catch(e){console.error("Error deleting project:",e),Q({message:"Error deleting project",type:"error"}),setTimeout(()=>Q(null),3e3)}finally{G(null)}},ev=(0,r.useCallback)(e=>{!o&&(eu.current&&eu.current.disconnect(),eu.current=new IntersectionObserver(e=>{e[0].isIntersecting&&m&&x(e=>e+1)}),e&&eu.current.observe(e))},[o,m]),ej=async e=>{if(!ee.has(e.id))try{var t,a,r;et(t=>new Set(t).add(e.id));let l=null;if(e.twitter_url&&(l=null==(a=e.twitter_url.split("/").pop())?void 0:a.replace("@","")),!l&&e.social_urls){let t=e.social_urls.find(e=>"twitter"===e.type&&e.url);if(t){let e=t.url;e.includes("twitter.com/")||e.includes("x.com/")?l=null==(r=e.split("/").pop())?void 0:r.replace("@",""):("/x"===e||"/twitter"===e)&&(l=null)}}if(!l)return void Q({message:"No Twitter handle found for ".concat(e.symbol),type:"error"});let n="https://eucfoommxxvqmmwdbkdv.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1Y2Zvb21teHh2cW1td2Ria2R2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1NjI4ODEsImV4cCI6MjA2MzEzODg4MX0.eaWAToMH3go56vYwvYWpbkgibVTEiv72AtUrqiIChTs",o=await fetch("".concat(n,"/functions/v1/x-signal-analyzer-v2"),{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify({symbol:e.symbol,handle:l,phase:1,projectId:e.id})}),c=await o.json();if(!c.success)throw Error(c.error||"Phase 1 analysis failed");Q({message:"Phase 1 complete for ".concat(e.symbol,". Starting Phase 2..."),type:"success"}),await new Promise(e=>setTimeout(e,2e3));let d=await fetch("".concat(n,"/functions/v1/x-signal-analyzer-v2"),{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify({symbol:e.symbol,phase:2,projectId:(null==(t=c.database_storage)?void 0:t.projectId)||e.id})}),m=await d.json();if(!m.success)throw Error(m.error||"Phase 2 analysis failed");Q({message:"X analysis complete for ".concat(e.symbol,"! Tier: ").concat(m.tier),type:"success"}),s([]),x(1),eN(1,!0)}catch(t){console.error("X analysis failed:",t),Q({message:"X analysis failed for ".concat(e.symbol,": ").concat(t instanceof Error?t.message:"Unknown error"),type:"error"})}finally{et(t=>{let s=new Set(t);return s.delete(e.id),s})}},eN=(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!o){c(!0);try{let a=new URLSearchParams({page:e.toString(),limit:"12",sortBy:u,sortOrder:f,search:N});if(eo.tokenType&&"all"!==eo.tokenType&&a.append("tokenType",eo.tokenType),eo.networks&&eo.networks.length>0&&a.append("networks",eo.networks.join(",")),eo.includeImposters&&a.append("includeImposters","true"),eo.includeUnverified&&a.append("includeUnverified","true"),eo.minWebsiteScore&&eo.minWebsiteScore>1){let e=(eo.minWebsiteScore-1)*10;a.append("minScore",e.toString())}void 0!==eo.minAge&&eo.minAge>0&&a.append("minAge",eo.minAge.toString()),void 0!==eo.maxAge&&eo.maxAge<10&&a.append("maxAge",eo.maxAge.toString()),void 0!==eo.minMarketCap&&eo.minMarketCap>0&&a.append("minMarketCap",eo.minMarketCap.toString()),void 0!==eo.maxMarketCap&&eo.maxMarketCap>0&&a.append("maxMarketCap",eo.maxMarketCap.toString());let r=await fetch("/api/crypto-projects-rated?".concat(a)),l=await r.json();l.data&&(t?s(l.data):s(e=>{let t=new Set(e.map(e=>e.id)),s=l.data.filter(e=>!t.has(e.id));return[...e,...s]}),p(l.pagination.hasMore),l.data.forEach(async e=>{if(!e.website_screenshot_url&&e.website_url){if(em.has(e.id))return;let t="screenshot_attempt_".concat(e.id),a=Date.now();ex(t=>new Set(t).add(e.id));try{let r=await fetch("/api/capture-screenshot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.website_url,tokenId:e.id,table:"crypto_projects_rated",forceRefresh:!1})});if(r.ok){let t=await r.json();s(s=>s.map(s=>s.id===e.id?{...s,website_screenshot_url:t.screenshot_url}:s))}else{sessionStorage.setItem(t,a.toString()),ep(t=>new Set(t).add(e.id));let s=await r.text();console.warn("Screenshot capture failed for ".concat(e.symbol,":"),s)}}catch(s){sessionStorage.setItem(t,a.toString()),ep(t=>new Set(t).add(e.id)),console.error("Failed to capture screenshot for ".concat(e.symbol,":"),s)}finally{ex(t=>{let s=new Set(t);return s.delete(e.id),s})}}}))}catch(e){console.error("Error fetching projects:",e)}finally{c(!1)}}},[u,f,N,eo,o,em]);(0,r.useEffect)(()=>{en&&(s([]),x(1),p(!0),eN(1,!0))},[u,f,N,eo,en]),(0,r.useEffect)(()=>{d>1&&eN(d)},[d]);let ey=e=>e?e>=1e6?"$".concat((e/1e6).toFixed(1),"M"):e>=1e3?"$".concat((e/1e3).toFixed(0),"K"):"$".concat(e.toFixed(0)):"N/A",ew=e=>{if(!e)return{bg:"#88888822",text:"#888"};let t={ALPHA:{bg:"#00ff8822",text:"#00ff88"},SOLID:{bg:"#ffcc0022",text:"#ffcc00"},BASIC:{bg:"#ff880022",text:"#ff8800"},TRASH:{bg:"#ff444422",text:"#ff4444"},"-":{bg:"#66666622",text:"#999"},"—":{bg:"#66666622",text:"#999"}};return t[e.toUpperCase()]||t[e]||{bg:"#88888822",text:"#888"}},e_=e=>({ethereum:{bg:"#627eea22",text:"#627eea"},solana:{bg:"#14f19522",text:"#14f195"},bsc:{bg:"#f0b90b22",text:"#f0b90b"},base:{bg:"#0052ff22",text:"#0052ff"},pulsechain:{bg:"#ff00ff22",text:"#ff00ff"}})[e.toLowerCase()]||{bg:"#88888822",text:"#888"};return(0,a.jsxs)("div",{className:"fixed inset-0 flex bg-[#0a0b0d]",children:[Z&&(0,a.jsxs)("div",{className:"fixed top-4 right-4 z-[9999] flex items-center gap-2 px-4 py-3 bg-[#1a1c1f] border border-[#2a2d31] rounded-lg shadow-lg animate-in slide-in-from-top-2 duration-300",children:["success"===Z.type?(0,a.jsx)(E.A,{className:"w-5 h-5 text-[#00ff88]"}):(0,a.jsx)(n.A,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("span",{className:"success"===Z.type?"text-[#00ff88]":"text-red-500",children:Z.message})]}),(0,a.jsx)(k,{onFiltersChange:e=>{el(e)},onSidebarToggle:e=>K(e)}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-50 bg-[#0f0f0f] border-b border-[#2a2d31] px-3 sm:px-6 h-14 flex items-center gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V(),{href:"/",className:"text-lg sm:text-xl font-semibold tracking-tight text-white hover:text-[#00ff88] transition-colors",children:"CoinAiRank"}),l&&(0,a.jsxs)("span",{className:"hidden sm:flex px-2 py-0.5 bg-[#00ff88]/20 text-[#00ff88] text-xs font-semibold rounded items-center gap-1",children:[(0,a.jsx)(M.A,{className:"w-3 h-3"}),"Admin"]})]}),(0,a.jsxs)("div",{className:"hidden md:flex gap-1 ml-4",children:[(0,a.jsx)("button",{className:"p-1.5 rounded hover:bg-[#1a1c1f] transition-colors",title:"Column Settings",children:(0,a.jsx)(v.A,{className:"w-4 h-4 text-[#666] hover:text-[#00ff88]"})}),(0,a.jsx)(T,{onSearch:y,placeholder:"Search symbol or name..."})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center bg-[#1a1c1f] border border-[#2a2d31] rounded-md",children:[(0,a.jsx)("button",{onClick:()=>{ea("grid"),localStorage.setItem("carViewMode","grid")},className:"p-1 rounded-l-md transition-colors ".concat("grid"===es?"bg-[#00ff88] text-black":"text-[#666] hover:text-[#00ff88] hover:bg-[#222426]"),title:"Grid View",children:(0,a.jsx)(F.A,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:()=>{ea("list"),localStorage.setItem("carViewMode","list")},className:"p-1 rounded-r-md transition-colors ".concat("list"===es?"bg-[#00ff88] text-black":"text-[#666] hover:text-[#00ff88] hover:bg-[#222426]"),title:"List View",children:(0,a.jsx)(P.A,{className:"w-3 h-3"})})]}),(0,a.jsxs)("select",{value:u,onChange:e=>{b(e.target.value),s([]),x(1)},className:"w-[100px] px-2 py-1.5 bg-[#1a1c1f] border border-[#2a2d31] text-[#ccc] rounded-md text-xs cursor-pointer appearance-none pr-6",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 4px center",backgroundSize:"12px"},children:[(0,a.jsx)("option",{value:"created_at",children:"Date"}),(0,a.jsx)("option",{value:"website_stage1_score",children:"Score"}),(0,a.jsx)("option",{value:"current_market_cap",children:"MCap"}),(0,a.jsx)("option",{value:"current_liquidity_usd",children:"Liq"}),(0,a.jsx)("option",{value:"project_age_years",children:"Age"})]}),(0,a.jsx)("button",{onClick:()=>{j("desc"===f?"asc":"desc"),s([]),x(1)},className:"p-1.5 bg-[#1a1c1f] border border-[#2a2d31] rounded-md hover:bg-[#222426] transition-colors",title:"desc"===f?"Sort descending":"Sort ascending",children:"desc"===f?(0,a.jsx)(w.A,{className:"w-3 h-3 text-[#666]"}):(0,a.jsx)(R.A,{className:"w-3 h-3 text-[#666]"})})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center bg-[#1a1c1f] border border-[#2a2d31] rounded-md",children:[(0,a.jsx)("button",{onClick:()=>{ea("grid"),localStorage.setItem("carViewMode","grid")},className:"p-1.5 rounded-l-md transition-colors ".concat("grid"===es?"bg-[#00ff88] text-black":"text-[#666] hover:text-[#00ff88] hover:bg-[#222426]"),title:"Grid View",children:(0,a.jsx)(F.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{ea("list"),localStorage.setItem("carViewMode","list")},className:"p-1.5 rounded-r-md transition-colors ".concat("list"===es?"bg-[#00ff88] text-black":"text-[#666] hover:text-[#00ff88] hover:bg-[#222426]"),title:"List View",children:(0,a.jsx)(P.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("span",{className:"text-[#666] text-[13px] font-medium",children:"Sort by:"}),(0,a.jsxs)("select",{value:u,onChange:e=>{b(e.target.value),s([]),x(1)},className:"w-[180px] px-3 py-1.5 bg-[#1a1c1f] border border-[#2a2d31] text-[#ccc] rounded-md text-sm cursor-pointer appearance-none pr-8",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"16px"},children:[(0,a.jsx)("option",{value:"created_at",children:"Date Called"}),(0,a.jsx)("option",{value:"website_stage1_score",children:"AI Score"}),(0,a.jsx)("option",{value:"current_market_cap",children:"Market Cap"}),(0,a.jsx)("option",{value:"current_liquidity_usd",children:"Liquidity"}),(0,a.jsx)("option",{value:"project_age_years",children:"Age (Years)"})]}),(0,a.jsx)("button",{onClick:()=>{j("desc"===f?"asc":"desc"),s([]),x(1)},className:"p-1.5 bg-[#1a1c1f] border border-[#2a2d31] rounded-md hover:bg-[#222426] transition-colors",title:"desc"===f?"Sort descending":"Sort ascending",children:"desc"===f?(0,a.jsx)(w.A,{className:"w-4 h-4 text-[#666]"}):(0,a.jsx)(R.A,{className:"w-4 h-4 text-[#666]"})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{className:"p-1.5 rounded hover:bg-[#1a1c1f] transition-colors",title:"Menu",onClick:()=>C(!S),children:(0,a.jsx)(W.A,{className:"w-4 h-4 text-[#666] hover:text-[#00ff88]"})}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>C(!1)}),(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-56 bg-[#111214] border border-[#2a2d31] rounded-lg shadow-lg z-50",children:(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-[#1a1c1f] transition-colors flex items-center gap-3",onClick:()=>{C(!1),B(!0)},children:[(0,a.jsx)("span",{className:"text-[#00ff88]",children:"+"}),"Submit Token"]}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-[#1a1c1f] transition-colors flex items-center gap-3",onClick:()=>{C(!1)},children:[(0,a.jsx)("span",{className:"text-[#f59e0b]",children:"●"}),"Connect Wallet"]}),(0,a.jsx)("div",{className:"border-t border-[#2a2d31] my-2"}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(V(),{href:"/admin/dashboard",className:"w-full px-4 py-2 text-left text-[#00ff88] hover:bg-[#1a1c1f] transition-colors flex items-center gap-3 text-sm block",onClick:()=>C(!1),children:[(0,a.jsx)(O.A,{className:"w-4 h-4"}),"Admin Panel"]}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-left text-[#ff8844] hover:bg-[#1a1c1f] transition-colors flex items-center gap-3 text-sm",onClick:eg,children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),"Logout Admin"]}),(0,a.jsx)("div",{className:"border-t border-[#2a2d31] my-2"})]}),(0,a.jsx)(V(),{href:"/whitepaper",className:"w-full px-4 py-2 text-left text-[#666] hover:bg-[#1a1c1f] hover:text-white transition-colors text-sm block",onClick:()=>C(!1),children:"Whitepaper"}),(0,a.jsx)("button",{className:"w-full px-4 py-2 text-left text-[#666] hover:bg-[#1a1c1f] hover:text-white transition-colors text-sm",onClick:()=>{C(!1)},children:"About"}),(0,a.jsx)("button",{className:"w-full px-4 py-2 text-left text-[#666] hover:bg-[#1a1c1f] hover:text-white transition-colors text-sm",onClick:()=>{C(!1)},children:"Documentation"})]})})]})]})]}),(0,a.jsx)("div",{className:"md:hidden px-3 py-2 bg-[#0a0b0d] border-b border-[#2a2d31]",children:(0,a.jsx)(T,{onSearch:y,placeholder:"Search symbol or name..."})}),(0,a.jsxs)("div",{className:"p-3 sm:p-6",children:["list"===es&&(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 py-3 px-0 border-b border-[#2a2d31] text-sm font-medium text-[#666] uppercase tracking-wide",children:[(0,a.jsx)("div",{className:"col-span-4",children:"Project"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"Age"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"Market Cap"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"Web Tier"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"X Tier"})]}),(0,a.jsx)("div",{className:"grid"===es?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 ".concat(H?"xl:grid-cols-4":"2xl:grid-cols-4"):"divide-y divide-[#2a2d31]",children:t.map((e,r)=>{var i,o,c;return(0,a.jsx)("div",{ref:r===t.length-1?ev:null,children:"list"===es?(0,a.jsx)("div",{className:"py-3 px-0 hover:bg-[#1a1c1f] transition-colors",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,a.jsx)("div",{className:"col-span-4",children:(0,a.jsx)(V(),{href:"/project/".concat(e.symbol),children:(0,a.jsxs)("h3",{className:"text-lg font-bold hover:text-[#00ff88] transition-colors cursor-pointer ".concat(!0===e.is_imposter?"text-red-500":"text-white"),children:[e.symbol,e.name&&e.name!==e.symbol&&!e.name.includes("/")&&(0,a.jsxs)("span",{className:"text-sm text-[#666] font-normal ml-2",children:["(",e.name,")"]})]})})}),(0,a.jsx)("div",{className:"col-span-2 text-center text-[#ccc]",children:e.project_age_years?"".concat(e.project_age_years.toFixed(1),"y"):"—"}),(0,a.jsx)("div",{className:"col-span-2 text-center text-[#ccc]",children:(()=>{let t=e.current_market_cap;return t?t>=1e9?"$".concat((t/1e9).toFixed(1),"B"):t>=1e6?"$".concat((t/1e6).toFixed(1),"M"):t>=1e3?"$".concat((t/1e3).toFixed(0),"K"):"$".concat(t.toFixed(0)):"—"})()}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:(()=>{var t,r,n,i,o,c,d,x;let m=e.website_stage1_tier||"—",p=null==(t=e.website_stage1_analysis)?void 0:t.html_length,u=p&&p>24e4,g=("CSR"===e.ssr_csr_classification||(null==(r=e.website_stage1_analysis)?void 0:r.ssr_csr_classification)==="CSR")&&p&&p<=24e4,b=!e.website_stage1_tier;return(0,a.jsx)(h,{projectDescription:null==(n=e.website_stage1_analysis)?void 0:n.project_description,signals:null==(i=e.website_stage1_analysis)?void 0:i.signals_found,redFlags:null==(o=e.website_stage1_analysis)?void 0:o.red_flags,strongestSignal:(null==(c=e.website_stage1_analysis)?void 0:c.strongest_signal)||(null==(d=e.website_stage1_analysis)?void 0:d.strongest_signal),benchmarkComparison:e.benchmark_comparison,extractionStatus:e.extraction_status,comparisonStatus:e.comparison_status,websiteAnalysis:{...e.website_stage1_analysis,discovered_links:e.discovered_links||[],stage_2_links:e.stage_2_links||[],html_length:p,whitepaper_url:e.whitepaper_url,github_url:e.github_url,docs_url:e.docs_url,social_urls:e.social_urls||[],important_resources:e.important_resources||[]},technicalAssessment:e.technical_assessment,hasLargeHtml:u,needsProperScraping:g,hasNoAnalysis:b,isAdmin:l,tokenId:e.id.toString(),signalFeedback:e.signal_feedback,onFeedbackUpdate:t=>{s(s=>s.map(s=>s.id===e.id?{...s,signal_feedback:t}:s))},stage2Resources:e.website_stage2_resources,tooltip:(null==(x=e.website_stage1_analysis)?void 0:x.tooltip)||e.website_stage1_tooltip,children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase inline-block cursor-help",style:{backgroundColor:ew(m).bg,color:ew(m).text},children:m})})})()}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:(()=>{let t=ee.has(e.id),s=e.x_stage1_tier;return t?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase inline-flex items-center justify-center cursor-not-allowed",style:{backgroundColor:"#1a1c1f",color:"#00ff88"},title:"Analyzing X/Twitter profile...",children:(0,a.jsx)(z.A,{className:"w-3 h-3 animate-spin"})}):s?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase cursor-help",style:{backgroundColor:ew(s).bg,color:ew(s).text},title:"X Analysis: ".concat(s," tier"),children:s}):(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase inline-flex items-center justify-center cursor-pointer transition-colors hover:opacity-80",style:{backgroundColor:"#2a2d31",color:"#888"},onClick:()=>ej(e),title:"Click to analyze X/Twitter profile",children:(0,a.jsx)(z.A,{className:"w-3 h-3"})})})()})]})}):(0,a.jsxs)("div",{className:"bg-[#111214] rounded-2xl border border-[#2a2d31] hover:border-[#00ff88] transition-all hover:-translate-y-1 relative overflow-hidden group min-w-0",children:[(0,a.jsx)("div",{className:"relative h-[420px] bg-[#0a0b0d] overflow-hidden",children:ed.has(e.id)&&!e.website_screenshot_url?(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[#00ff88] rounded-full opacity-20 animate-ping"}),(0,a.jsx)("div",{className:"relative w-16 h-16 border-4 border-[#1a1c1f] border-t-[#00ff88] rounded-full animate-spin"})]}),(0,a.jsx)("p",{className:"mt-4 text-[#666] text-sm",children:"Capturing screenshot..."}),(0,a.jsx)("p",{className:"mt-1 text-[#444] text-xs",children:"This may take a few seconds"})]}):(0,a.jsx)("div",{className:"w-full h-full overflow-y-auto scrollbar-hide",children:(0,a.jsx)("img",{src:e.website_screenshot_url||"https://placehold.co/400x600/1a1c1f/666666?text=".concat(encodeURIComponent(e.name||e.symbol)),alt:"".concat(e.name||e.symbol," screenshot"),className:"w-full h-auto object-top",onError:t=>{t.target.src="https://placehold.co/400x600/1a1c1f/666666?text=".concat(encodeURIComponent(e.name||e.symbol))}})})}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(V(),{href:"/project/".concat(e.symbol),children:(0,a.jsx)("h3",{className:"text-xl font-bold hover:text-[#00ff88] transition-colors cursor-pointer ".concat(!0===e.is_imposter?"text-red-500":"text-white"),children:e.contract_verification||e.is_imposter?(0,a.jsx)(g.j,{verification:e.contract_verification||null,isImposter:e.is_imposter,children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[e.symbol,e.name&&e.name!==e.symbol&&!e.name.includes("/")&&(0,a.jsxs)("span",{className:"text-sm text-[#666] font-normal",children:["(",e.name,")"]})]})}):(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[e.symbol,e.name&&e.name!==e.symbol&&!e.name.includes("/")&&(0,a.jsxs)("span",{className:"text-sm text-[#666] font-normal",children:["(",e.name,")"]})]})})}),(0,a.jsx)("div",{className:"flex gap-1 mt-1 items-center",children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium uppercase",style:{backgroundColor:e_(e.network).bg,color:e_(e.network).text},children:e.network})})]}),(0,a.jsxs)("div",{className:"text-right relative z-10",children:[(()=>{var t,r,n,i,o,c,d,x;let m=e.website_stage1_tier||"—",p=null==(t=e.website_stage1_analysis)?void 0:t.html_length,u=p&&p>24e4,g=("CSR"===e.ssr_csr_classification||(null==(r=e.website_stage1_analysis)?void 0:r.ssr_csr_classification)==="CSR")&&p&&p<=24e4,b=!e.website_stage1_tier;return(0,a.jsx)(h,{projectDescription:null==(n=e.website_stage1_analysis)?void 0:n.project_description,signals:null==(i=e.website_stage1_analysis)?void 0:i.signals_found,redFlags:null==(o=e.website_stage1_analysis)?void 0:o.red_flags,strongestSignal:(null==(c=e.website_stage1_analysis)?void 0:c.strongest_signal)||(null==(d=e.website_stage1_analysis)?void 0:d.strongest_signal),benchmarkComparison:e.benchmark_comparison,extractionStatus:e.extraction_status,comparisonStatus:e.comparison_status,websiteAnalysis:{...e.website_stage1_analysis,discovered_links:e.discovered_links||[],stage_2_links:e.stage_2_links||[],html_length:p,whitepaper_url:e.whitepaper_url,github_url:e.github_url,docs_url:e.docs_url,social_urls:e.social_urls||[],important_resources:e.important_resources||[]},technicalAssessment:e.technical_assessment,hasLargeHtml:u,needsProperScraping:g,hasNoAnalysis:b,isAdmin:l,tokenId:e.id.toString(),signalFeedback:e.signal_feedback,onFeedbackUpdate:t=>{s(s=>s.map(s=>s.id===e.id?{...s,signal_feedback:t}:s))},stage2Resources:e.website_stage2_resources,tooltip:(null==(x=e.website_stage1_analysis)?void 0:x.tooltip)||e.website_stage1_tooltip,children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase inline-block cursor-help",style:{backgroundColor:ew(m).bg,color:ew(m).text},children:m})})})(),(0,a.jsx)("p",{className:"text-xs text-[#666] mt-1",children:(e=>{let t=new Date(e),s=Math.floor(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===s?"Today":1===s?"Yesterday":s<7?"".concat(s,"d ago"):s<30?"".concat(Math.floor(s/7),"w ago"):"".concat(Math.floor(s/30),"mo ago")})(e.created_at)})]})]}),(e.one_liner||(null==(i=e.website_stage1_tooltip)?void 0:i.one_liner)||(null==(o=e.website_stage1_analysis)?void 0:o.quick_take))&&(0,a.jsx)("p",{className:"text-[15px] sm:text-[17px] text-[#e0e0e0] leading-[1.3] mb-3 font-normal tracking-[-0.3px] sm:tracking-[-0.5px] line-clamp-2 sm:line-clamp-3",children:e.one_liner||(null==(c=e.website_stage1_tooltip)?void 0:c.one_liner)||e.website_stage1_analysis.quick_take}),(()=>{var t;let s=e.strongest_signal||(null==(t=e.website_stage1_analysis)?void 0:t.strongest_signal);if(!s)return null;let r="string"==typeof s?s:s.signal;return r?(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-[13px] text-[#999] mb-5 -mt-1",children:[(0,a.jsx)(U.A,{className:"w-3.5 h-3.5 text-[#00ff88] flex-shrink-0"}),(0,a.jsx)("span",{className:"line-clamp-1",children:r})]}):null})(),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-[#1a1c1f] rounded-lg border border-[#2a2d31]",children:[(0,a.jsx)("p",{className:"text-xs text-[#666]",children:"Market Cap"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:ey(e.current_market_cap)})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-[#1a1c1f] rounded-lg border border-[#2a2d31]",children:[(0,a.jsx)("p",{className:"text-xs text-[#666]",children:"Liquidity"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:ey(e.current_liquidity_usd||e.initial_liquidity_usd)})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-[#1a1c1f] rounded-lg border border-[#2a2d31]",children:[(0,a.jsx)("p",{className:"text-xs text-[#666]",children:"Age"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-[#888]",children:e.project_age_years?"".concat(e.project_age_years.toFixed(1),"y"):"-"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#00ff88] text-black text-center py-2 rounded-lg hover:bg-[#00cc66] transition-colors text-sm font-semibold relative z-20",onClick:e=>e.stopPropagation(),children:"Visit Website ↗"}),e.contract_address&&(0,a.jsx)("a",{href:"https://dexscreener.com/".concat(e.network,"/").concat(e.contract_address),target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#1a1c1f] text-[#888] py-2 rounded-lg hover:bg-[#252729] hover:text-white transition-colors text-center text-sm border border-[#2a2d31] relative z-20",onClick:e=>e.stopPropagation(),children:"Chart \uD83D\uDCCA"}),l&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),G($===e.id?null:e.id)},className:"p-2 bg-[#1a1c1f] text-[#888] rounded-lg hover:bg-[#252729] hover:text-white transition-colors border border-[#2a2d31] relative z-20",children:(0,a.jsx)(L.A,{className:"w-4 h-4"})}),$===e.id&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>G(null)}),(0,a.jsxs)("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-[#111214] border border-[#2a2d31] rounded-lg shadow-lg z-40",children:[(0,a.jsxs)("button",{onClick:()=>eb(e.id,e.is_imposter||!1),className:"w-full px-4 py-2 text-left text-white hover:bg-[#1a1c1f] transition-colors flex items-center gap-2 text-sm rounded-t-lg",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-red-500"}),e.is_imposter?"Unmark as Imposter":"Mark as Imposter"]}),(0,a.jsxs)("button",{onClick:()=>ef(e.id,e.symbol),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-[#1a1c1f] hover:text-red-300 transition-colors flex items-center gap-2 text-sm border-t border-[#2a2d31] rounded-b-lg",children:[(0,a.jsx)(J.A,{className:"w-4 h-4"}),"Remove Project"]})]})]})]})]})]})]})},e.id)})}),o&&(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-[#00ff88] border-t-transparent rounded-full animate-spin"})}),!m&&t.length>0&&(0,a.jsx)("div",{className:"text-center mt-8 text-[#666]",children:(0,a.jsx)("p",{children:"No more projects to load"})}),!o&&0===t.length&&(0,a.jsxs)("div",{className:"text-center mt-8",children:[(0,a.jsx)("p",{className:"text-xl mb-2 text-white",children:"No projects found"}),(0,a.jsx)("p",{className:"text-[#666]",children:"Try adjusting your filters"})]})]})]}),(0,a.jsx)(A,{isOpen:I,onClose:()=>B(!1),onSuccess:()=>{B(!1),x(1),s([]),eN(1,!0)}})]})}},7135:(e,t,s)=>{Promise.resolve().then(s.bind(s,5891))},9650:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});var a=s(5155),r=s(2115),l=s(7650);function n(e){let{verification:t,isImposter:s,children:n}=e,[i,o]=r.useState(!1),[c,d]=r.useState(null),x=r.useRef(null),m=r.useRef(null),[p,u]=r.useState(!1);if(r.useEffect(()=>{u(!0)},[]),!t)return(0,a.jsx)(a.Fragment,{children:n});let h=!0===s?{title:"Verified Imposter",color:"red",bgColor:"bg-red-500",textColor:"text-red-400",borderColor:"border-red-500/30"}:t.found_on_site?{title:"Contract Verified",color:"green",bgColor:"bg-green-500",textColor:"text-green-400",borderColor:"border-[#2a2d31]"}:{title:"Warning: Possible Imposter",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-400",borderColor:"border-orange-500/30"};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{ref:m,className:"inline-flex items-center",onMouseEnter:e=>{let t,s;if(!m.current)return;let a=m.current.getBoundingClientRect(),r=a.left+a.width/2,l=a.top,n=window.innerHeight-a.bottom;l>=120||l>n?(t=a.top,s="above"):(t=a.bottom,s="below");r-140<10?r=150:r+140>window.innerWidth-10&&(r=window.innerWidth-140-10),d({x:r,y:t,placement:s}),o(!0)},onMouseLeave:()=>{o(!1),d(null)},children:[n,!0===s?(0,a.jsx)("svg",{className:"w-4 h-4 text-red-500 cursor-help",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):t.found_on_site?(0,a.jsx)("svg",{className:"w-4 h-4 text-green-500 cursor-help",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"w-4 h-4 text-orange-500 cursor-help",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),p&&i&&c&&(0,l.createPortal)((0,a.jsx)("div",{ref:x,className:"fixed z-[999999] pointer-events-none",style:{left:"".concat(c.x,"px"),top:(c.placement,"".concat(c.y,"px")),transform:"above"===c.placement?"translate(-50%, -100%) translateY(-8px)":"translate(-50%, 8px)"},children:(0,a.jsxs)("div",{className:"bg-[#1a1c1f] rounded-lg shadow-2xl border ".concat(h.borderColor," p-3 w-[280px]"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(h.bgColor)}),(0,a.jsx)("span",{className:"font-semibold ".concat(h.textColor," text-sm"),children:h.title})]}),(0,a.jsxs)("p",{className:"text-xs text-[#888] mb-2",children:["Confidence: ",(0,a.jsx)("span",{className:"text-[#ddd] capitalize",children:t.confidence})]}),!0===s?(0,a.jsx)("p",{className:"text-xs text-[#aaa] leading-relaxed",children:"This project has been manually verified as an imposter by an administrator."}):t.note&&(0,a.jsx)("p",{className:"text-xs text-[#aaa] leading-relaxed",children:t.note}),(0,a.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-0 h-0 ".concat("above"===c.placement?"-bottom-2 border-l-[8px] border-l-transparent border-t-[8px] border-t-[#1a1c1f] border-r-[8px] border-r-transparent":"-top-2 border-l-[8px] border-l-transparent border-b-[8px] border-b-[#1a1c1f] border-r-[8px] border-r-transparent")})]})}),document.body)]})}}},e=>{e.O(0,[297,16,441,255,358],()=>e(e.s=7135)),_N_E=e.O()}]);